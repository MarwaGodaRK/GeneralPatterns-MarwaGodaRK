apply plugin: 'java-library'
apply plugin: 'groovy'
apply plugin: 'org.springframework.boot'

/** Not sure what does this do, but without it class from :common is not available in other projects
 *  pasted from here: https://docs.gradle.org/current/userguide/java_library_plugin.html             **/
configurations {
    apiElements {
        outgoing.variants.getByName('classes').artifact(
                file: compileGroovy.destinationDir,
                type: ArtifactTypeDefinition.JVM_CLASS_DIRECTORY,
                builtBy: compileGroovy)
    }
}

sourceCompatibility = "1.8"
targetCompatibility = "1.8"

sourceSets {
    main {
        java { srcDirs = [] }    // no source dirs for the java compiler
        groovy { //noinspection GroovyAssignabilityCheck
            srcDirs = ["src/main/java", "src/main/groovy"] }  // compile   everything in src/ with groovy
    }
}
